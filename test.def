Bootstrap: docker
From: pytorch/pytorch:2.3.1-cuda12.1-cudnn8-runtime

%files
    . /opt/CAT-V         # ビルド時の作業ディレクトリをコンテナ内にコピー

%post
    apt-get update && apt-get install -y --no-install-recommends \
        git ffmpeg libsm6 libxext6 libgl1 && \
        rm -rf /var/lib/apt/lists/*
    python -m pip install --upgrade pip
    pip install --no-cache-dir -r /opt/CAT-V/requirements.txt
    pip install --no-cache-dir -e /opt/CAT-V

%environment
    export PYTHONPATH=/opt/CAT-V:$PYTHONPATH

%runscript
    cd /opt/CAT-V
    exec "$@"


































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































